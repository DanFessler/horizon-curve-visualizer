(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(26)},22:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(6),l=a.n(r),o=(a(22),a(7)),u=a(8),s=a(9),c=a(2),h=a(10),g=a(13),m=a(1),d=(a(24),1024),v=768,f=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={ctx:null},a.renderCanvas=function(){var e=a.state.ctx;e.clearRect(0,0,d,v),e.strokeStyle="rgba(0, 0, 0, 1)",e.beginPath(),e.arc(d/2,v/2+a.getPixelRadius(),a.getPixelRadius(),0,2*Math.PI),e.stroke(),e.beginPath(),e.strokeStyle="rgba(0, 0, 0, 0.125)",e.moveTo(0,v/2-.5),e.lineTo(d,v/2-.5),e.stroke();var t=v/2-.5-a.getDropAngle()/a.getVerticalFOV()*v;e.beginPath(),e.strokeStyle="rgba(0, 0, 0, 0.25)",e.moveTo(0,t),e.lineTo(d,t),e.stroke(),e.textAlign="end",e.fillText("Level",d-8,t-8)},a.getVerticalFOV=function(){return m.a.fov*v/d},a.handleAltitudeChange=function(e){m.a.alt=Math.max(e.target.value,0)},a.handleFOVChange=function(e){m.a.fov=Math.max(Math.min(e.target.value,175),1)},a.getHorizonDistance=function(){var e=Math.max(a.getAltitude(m.a.unit),.001),t=a.getEarthRadius();return Math.sqrt(Math.pow(t+e,2)-Math.pow(t,2))},a.getHorizonLength=function(){var e=Math.min(m.a.fov,179.9)*(Math.PI/180);return a.getHorizonDistance()*Math.tan(e/2)*2},a.getEarthRadius=function(){return 3959},a.getAltitude=function(e){switch(e){case"feet":return m.a.alt/5280;case"meters":return m.a.alt/1609.34;case"kilometers":return m.a.alt/1.60934;default:return m.a.alt}},a.getPixelRadius=function(){var e=a.getEarthRadius(),t=a.getHorizonLength()/2;return d/2*e/t},a.getDropAngle=function(){return Math.asin(a.getHorizonDistance()/(a.getEarthRadius()+a.getAltitude(m.a.unit)))*(180/Math.PI)},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({ctx:this.refs.canvas.getContext("2d")}),m.a.fov=m.a.fov?m.a.fov:60,m.a.alt=m.a.alt?m.a.alt:0,m.a.unit=m.a.unit?m.a.unit:"miles"}},{key:"componentDidUpdate",value:function(){this.renderCanvas()}},{key:"render",value:function(){var e="feet"===m.a.unit||"miles"===m.a.unit?"miles":"kilometers";return i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"Horizon Curvature Visualizer"),"Source code:"," ",i.a.createElement("a",{href:"https://github.com/DanFessler/horizon-curve-visualizer"},"https://github.com/DanFessler/horizon-curve-visualizer"),i.a.createElement("p",null,"This is a visualizer to give you a rough idea of how curved the horizon should appear at a given altitude with a known camera FOV.",i.a.createElement("br",null),"This is a work in progress and will continue to be improved. It makes some estimates and does not take into account fish eye lenses for the sake of simplicity."),i.a.createElement("br",null),i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",{style:{paddingRight:32}},i.a.createElement("label",null,"HFOV:"),i.a.createElement("br",null),i.a.createElement("input",{name:"FOV",type:"number",value:m.a.fov,onChange:this.handleFOVChange,onClick:function(e){return e.target.select()}}),i.a.createElement("i",null," degrees")),i.a.createElement("div",null,i.a.createElement("label",null,"Altitude:"),i.a.createElement("br",null),i.a.createElement("input",{style:{height:21,boxSizing:"border-box"},name:"altitude",type:"number",value:m.a.alt,onChange:this.handleAltitudeChange,onClick:function(e){return e.target.select()}}),i.a.createElement("select",{style:{height:21,boxSizing:"border-box"},onChange:function(e){return m.a.unit=e.target.value},value:m.a.unit},i.a.createElement("option",{value:"feet"},"feet"),i.a.createElement("option",{value:"miles"},"miles"),i.a.createElement("option",{value:"meters"},"meters"),i.a.createElement("option",{value:"kilometers"},"kilometers")))),i.a.createElement("br",null),i.a.createElement("div",{style:{border:"1px solid gray",display:"inline-block"}},i.a.createElement("div",{style:{position:"absolute",padding:8}},"Horizon Distance: \xa0",this.getHorizonDistance(this.getAltitude(e)).toFixed(2)," ",e,i.a.createElement("br",null),"Horizon length: \xa0",this.getHorizonLength(this.getAltitude(e)).toFixed(2)," ",e,i.a.createElement("br",null),"Drop Angle: \xa0",this.getDropAngle().toFixed(2)," Degrees",i.a.createElement("br",null)),i.a.createElement("canvas",{ref:"canvas",width:d,height:v})))}}]),t}(n.Component),p=Object(g.a)(f);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.4ddb73fe.chunk.js.map