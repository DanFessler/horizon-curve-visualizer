(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(26)},22:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(6),l=a.n(r),o=(a(22),a(7)),u=a(8),s=a(10),c=a(2),h=a(9),m=a(13),d=a(1),g=(a(24),1024),v=768,f=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={ctx:null},a.renderCanvas=function(){var e=a.state.ctx;e.clearRect(0,0,g,v),e.strokeStyle="rgba(0, 0, 0, 1)",e.beginPath(),e.arc(g/2,v/2+a.getPixelRadius(),a.getPixelRadius(),0,2*Math.PI),e.stroke(),e.strokeStyle="rgba(0, 0, 0, 0.125)",e.moveTo(0,v/2-.5),e.lineTo(g,v/2-.5),e.stroke()},a.handleAltitudeChange=function(e){d.a.alt=Math.max(e.target.value,0)},a.handleFOVChange=function(e){d.a.fov=Math.max(Math.min(e.target.value,175),1)},a.getHorizonDistance=function(){var e=Math.max(a.getAltitude(d.a.unit),.001),t=a.getEarthRadius();return Math.sqrt(Math.pow(e,2)+2*t*e)},a.getHorizonLength=function(){var e=Math.min(d.a.fov,179.9)*(Math.PI/180);return a.getHorizonDistance()*Math.tan(e/2)*2},a.getEarthRadius=function(){return 3959},a.getAltitude=function(e){switch(e){case"feet":return d.a.alt/5280;case"meters":return d.a.alt/1609.34;case"kilometers":return d.a.alt/1.60934;default:return d.a.alt}},a.getPixelRadius=function(){var e=a.getEarthRadius(),t=a.getHorizonLength()/2;return g/2*e/t},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({ctx:this.refs.canvas.getContext("2d")}),d.a.fov=d.a.fov?d.a.fov:60,d.a.alt=d.a.alt?d.a.alt:0,d.a.unit=d.a.unit?d.a.unit:"miles"}},{key:"componentDidUpdate",value:function(){this.renderCanvas()}},{key:"render",value:function(){var e="feet"===d.a.unit||"miles"===d.a.unit?"miles":"kilometers";return i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"Horizon Curvature Visualizer"),"Source code:"," ",i.a.createElement("a",{href:"https://github.com/DanFessler/horizon-curve-visualizer"},"https://github.com/DanFessler/horizon-curve-visualizer"),i.a.createElement("p",null,"This is a visualizer to give you a rough idea of how curved the horizon should appear at a given altitude with a known camera FOV.",i.a.createElement("br",null),"This is a work in progress and will continue to be improved. It makes some estimates and does not take into account fish eye lenses for the sake of simplicity."),i.a.createElement("br",null),i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",{style:{paddingRight:32}},i.a.createElement("label",null,"HFOV:"),i.a.createElement("br",null),i.a.createElement("input",{name:"FOV",type:"number",value:d.a.fov,onChange:this.handleFOVChange,onClick:function(e){return e.target.select()}}),i.a.createElement("i",null," degrees")),i.a.createElement("div",null,i.a.createElement("label",null,"Altitude:"),i.a.createElement("br",null),i.a.createElement("input",{style:{height:21,boxSizing:"border-box"},name:"altitude",type:"number",value:d.a.alt,onChange:this.handleAltitudeChange,onClick:function(e){return e.target.select()}}),i.a.createElement("select",{style:{height:21,boxSizing:"border-box"},onChange:function(e){return d.a.unit=e.target.value},value:d.a.unit},i.a.createElement("option",{value:"feet"},"feet"),i.a.createElement("option",{value:"miles"},"miles"),i.a.createElement("option",{value:"meters"},"meters"),i.a.createElement("option",{value:"kilometers"},"kilometers")))),i.a.createElement("br",null),i.a.createElement("div",{style:{border:"1px solid gray",display:"inline-block"}},i.a.createElement("div",{style:{position:"absolute",padding:8}},"Horizon Distance: \xa0",this.getHorizonDistance(this.getAltitude(e)).toFixed(2)," ",e,i.a.createElement("br",null),"Horizon length: \xa0",this.getHorizonLength(this.getAltitude(e)).toFixed(2)," ",e,i.a.createElement("br",null)),i.a.createElement("canvas",{ref:"canvas",width:g,height:v})))}}]),t}(n.Component),p=Object(m.a)(f);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.270b20d8.chunk.js.map